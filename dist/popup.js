document.addEventListener("DOMContentLoaded",(function(){function e(){chrome.storage.sync.get(["prospects"],(function(e){var t=e.prospects||[],n=document.getElementById("prospectList");n.innerHTML="",t.forEach((function(e){var t=document.createElement("li");t.textContent="".concat(e.name,": ").concat(e.email),n.appendChild(t)}))}))}chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{type:"GET_PAGE_INFO"},(function(e){var t;e&&e.data&&(t=e.data,document.getElementById("emails").textContent=t.emails.join(", "),document.getElementById("linkedin").textContent=t.linkedInLinks.join(", "),document.getElementById("names").textContent=t.names.join(", "),document.getElementById("domain").textContent=JSON.stringify(t.domainInfo),document.getElementById("market").textContent=t.businessMarket)}))})),document.getElementById("addProspect").addEventListener("click",(function(){var t=document.getElementById("prospectName").value,n=document.getElementById("prospectEmail").value;t&&n&&chrome.storage.sync.get(["prospects"],(function(o){var c=o.prospects||[];c.push({name:t,email:n}),chrome.storage.sync.set({prospects:c},(function(){e()}))}))})),e()}));